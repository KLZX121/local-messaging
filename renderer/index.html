<!DOCTYPE html>
<html>
    <head>
        <link href="index.css" rel="stylesheet">
    </head>

    <body>
        
        <section id="statusBar">

            <img id="settingsIcon" src="../imgs/settings.png">
            <img id="wifi" src="../imgs/wifi.png">

            <button id="checkUpdateBtn" class="updateButton" style="display: none;">Check for Update</button>

            <button id="downloadUpdateBtn" class="updateButton" style="display: none;">Download Update</button>
            <progress id="downloadUpdateProgress" value="0" style="display: none;"></progress>

            <button id="installUpdateBtn" class="updateButton" style="display: none;">Install Update</button>

            <a href="https://github.com/KLZX121/local-messaging" target="_blank"><span id="appVersion"></span></a>
            
            <div id="autoUpdateStatus" style="color: orange;">Checking for updates...</div>
        </section>
        
        <section id="infoSection">

            <div>
                <strong><span id="infoServerName"></span></strong>
                <span id="infoServerAddress" style="color: green;"></span>
            </div>

        </section>

        <section id="hostConfigContainer" style="display: none;">
            <div id="hostConfigDiv">
                <h2>Host Settings</h2>

                <div>
                    <label for="hostServerName">Server name:</label>
                    <input id="hostServerName" maxlength="20" spellcheck="false" placeholder="Name">
                </div>

                <div>
                    <button id="hostServerBtn">Host</button>
                </div>
            </div>
        </section>

        <section id="manualConnectContainer" style="display: none;">
            <div id="manualConnectDiv">
                <h2 title="Enter the host address of the server to manually connect">Manually connect</h2>

                <label for="manualHost">Host Address: </label>
                <input type="text" id="manualHost" placeholder="Host Address">

                <button id="manualConnectBtn">Connect</button>

            </div>
        </section>

        <section id="chatBox">
        </section>

        <section id="messageBox">
            <input id="messageInput" type="text" placeholder="Enter Message" spellcheck="false" maxlength="200">
            <button id="sendMessageBtn" title="You can also press enter to send message">Send</button>
        </section>

        <section id="config">
            <button id="disconnectBtn" style="display: none;">Disconnect</button>
            <div id="memberListDiv" style="display: none;">
                <strong title="List of connected members to the server">Connected people:</strong>
                <div id="memberList">
    
                </div>
            </div>
            <div id="controlPanel">
                <button id="hostConfigBtn" title="Host a server on your local network">Host Server</button>
                <button id="directConnectBtn" title="Enter a host address to directly connect to a server">Direct Connect</button>
                <button id="deepScanBtn" title="Perform a deep scan of the network for open servers">Deep Scan</button>
            </div>

            <div id="errorDisplay"></div>

            <div id="recentConnectionsDiv">
                <h3 title="Record of last 5 connections" class="inlineBlock">Recent Connections</h3>
                <div id="recentConnections" class="serverList">
                    <span class="emptyListPlaceholder">Looks like you have no recent servers - join a few for them to show up here!</span>
                </div>
            </div>

            <div id="serverFoundDiv">
                <div>
                    <h3 style="display: inline-block;">Open Servers on Network</h3>
                    <span id="deepScanSpan" style="display: none;">Deep scanning...</span>
                </div>
                <div id="serverFoundList" class="serverList">
                    <span class="emptyListPlaceholder" id="noServersPlaceholder" style="display: block;">There are no other servers currently open on the network</span>
                </div>
            </div>
        </section>

        <section id="settingsContainer" style="display: none;">
            <div id="settingsDiv">
                <h2>Settings</h2>

                <div>
                    <button id="saveSettingsBtn" title="Stores settings across sessions - settings will be kept in current session regardless of whether it is saved">Save Settings</button>
                    <button id="resetSettingsBtn" title="Resets all settings to default">Reset Settings</button>
                </div>

                <div>
                    <h3>General</h3>
                    <div>
                        <div>
                            <label for="username">Username:</label>
                            <input type="text" id="username" class="settingsInput" placeholder="Username" maxlength="20" spellcheck="false">
                        </div>
                        <div>
                            <label for="fontSizeSlider">Font Size:</label>
                            <input id="fontSizeSlider" type="range" min="0.2" max="2" step="0.2">
                            <span id="fontSizeDisplay"></span>
                        </div>
                        <div>
                            <label for="autoStart" title="Save settings to take effect">Boot app on computer start-up</label>
                            <input type="checkbox" id="autoStart">
                        </div>
                    </div>
                </div>

                <div>
                    <h3>Notifications</h3>
                    <div>
                        <div>
                            <input type="checkbox" id="flashFrame">
                            <label for="flashFrame">Taskbar icon flashing</label>
                        </div>
                        <h4 style="border: none;">Toast notifications</h4>
                        <div>
                            <input type="checkbox" id="notifServerOnline">
                            <label for="notifServerOnline">Recently connected server online</label>
                        </div>
                        <div>
                            <input type="checkbox" id="notifServerFound">
                            <label for="notifServerFound">Server found on network</label>
                        </div>
                        <div>
                            <input type="checkbox" id="notifMsg">
                            <label for="notifMsg">Messages</label>
                        </div>
                    </div>
                </div>

                <div>
                    <div style="position: relative; padding-left: 0; margin-bottom: 0.5em; border: none;">
                        <h3 id="deepScanTitle">Deep network scan</h3>
                        <img src="../imgs/infoIcon.png" class="infoIcon" id="infoIconDeepScan">
                        <p class="info" id="infoDeepScan">Searches large networks much more thoroughly than the default automatic server discovery, but will take more time and resources depending on size of network (use if servers are not automatically being found, especially on school networks)</p>
                    </div>
                    <div>
                        <div>
                            <label for="doAutoDeepScan">Auto Deep Scanning</label>
                            <input type="checkbox" id="doAutoDeepScan">
                        </div>
                        <div title="Interval between scans when auto deep scan is enabled">
                            <label for="autoDeepScanInt">Scanning interval (seconds):</label>
                            <input type="number" id="autoDeepScanInt" min="1">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <script src="index.js"></script>
    </body>
</html>